Roast jalapenos over a grill or gas burner until completely blackened.   Seal in a plastic bag or a bowl covered with plastic wrap,  and allow to steam until skins are loosened.  When cool, remove skin, stem, and seeds.    
Place jalapenos, onions, garlic, sugar, salt, and pepper into the bowl of a blender or food processor.  Pulse to chop and blend, then pour into a large bowl, and mix with the can of green chiles, cilantro, and lime juice.  Pulse the tomatoes in batches to desired size, and add to green chile mixture.    
Return one cup of chopped tomatoes to the blender along with the habanero, and puree well.  Strain the puree to remove any large pieces of habanero, and add to the tomatoes.  Mix well, cover, and chill in the refrigerator at least one hour to allow flavors to blend.    

