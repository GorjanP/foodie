Heat one tablespoon of oil in a skillet over medium heat. Add the onion, and cook until browned. Stir in 1 cup of yogurt, curry powder, chili powder, and 2 tablespoons of cilantro. Cook and stir until most of the liquid has evaporated. Remove from the heat, and stir in the remaining cilantro.    
Lay out one sheet of phyllo dough, and cover the rest with a damp towel. Place about 1 tablespoon of the onion mixture onto the corner, not too close to the edge of the sheet of dough, then fold up into fourths toward the opposite side to enclose the filling. Starting with the filled end, fold towards the other end in a triangle shape, pressing the edges with moistened fingers to seal. Repeat with remaining filling and dough.    
Heat 3/4 inch of oil in a deep heavy skillet over medium-high heat to 365 degrees F (185 degrees C). In a small bowl, stir together the remaining yogurt, half-and-half, and water. Dip the samosas in the yogurt mixture, then dredge in flour, and shake off the excess.    
Fry in small batches so they are not touching, for about 4 minutes, turning once. Drain on paper towels and serve warm.    

