Preheat oven to 350 degrees F (175 degrees C). Grease a 7x11 inch baking dish.    
In a large bowl, combine bread, raisins, and apples. In a small saucepan over medium heat, combine 1 cup brown sugar, 1 3/4 cups milk, and 1/4 cup margarine. Cook and stir until margarine is melted.  Pour over bread mixture in bowl.    
In a small bowl, whisk together cinnamon, 1/2 teaspoon vanilla, and eggs. Pour bread mixture into prepared dish, and pour egg mixture over bread.    
Bake in preheated oven 40 to 50 minutes, or until center is set and apples are tender.    
While pudding is baking, mix together sugar, 1/4 cup brown sugar, 1/2 cup milk, and 1/2 cup margarine in a saucepan. Bring to a boil, then remove from heat, and stir in 1 teaspoon vanilla. Serve over bread pudding.    

