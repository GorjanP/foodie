Preheat oven to 350 degrees F (175 degrees C). Line muffin tins with paper liners and spray liners with vegetable oil spray to prevent cupcakes from sticking to liners.    
Combine flour, cinnamon, salt, baking soda, baking powder, allspice, and ginger in the bowl of a food processor; mix to incorporate ingredients, 5 to 10 seconds. Transfer to a bowl and toss in shredded carrots.    
Use the food processor to combine white sugar, brown sugar, eggs, buttermilk, and vanilla extract with a paddle attachment. Drizzle in the vegetable oil while the food processor is still running. Add to flour mixture and mix just until combined.    
Scoop batter into the prepared muffin tins to fill the cups 2/3 full.    
Bake in the preheated oven until tops spring back when lightly pressed, 17 to 20 minutes. Cool in the pan for 5 minutes before transferring to a wire rack to cool, about 20 minutes.    
Beat cream cheese and butter together with the paddle attachment of a stand mixer on medium speed. Stir in vanilla extract. Add confectioners' sugar gradually on low speed; turn to high speed and mix until smooth and creamy.    
Spread frosting over cooled cupcakes.    

