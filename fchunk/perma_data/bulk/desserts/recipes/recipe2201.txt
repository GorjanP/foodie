Preheat the oven to 350 degrees F (175 degrees C). In a medium bowl, stir together 1 cup of all-purpose flour and sugar. Cut in butter until the mixture is crumbly. Press firmly into the bottom of a 9x9 inch baking pan.    
Bake for 15 minutes in the preheated oven, until firm and slightly golden. Set aside to cool.    
In a medium bowl, mix together 1/4 cup flour, baking powder, and cocoa powder. Make a well in the center, and add the egg, vanilla, and sweetened condensed milk. Mix until well blended. Stir in the chopped chocolate and walnuts. Spread the mixture over the cooled crust.    
Bake for 20 minutes in the preheated oven, until brownies begin to pull away from the edges, and the top appears dry. Cool, and cut into squares. Store tightly covered at room temperature.    

