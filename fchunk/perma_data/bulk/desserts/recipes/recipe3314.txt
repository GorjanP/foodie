Preheat oven to 350 degrees F (175 degrees C). Grease and flour a 9x13 inch baking pan.    
In a large bowl, mix flour, sugar, 1/2 cup nuts and baking soda. Add eggs, pineapple and 2 teaspoons vanilla . Beat until smooth and pour into 9x13 inch baking pan.    
Bake at 350 degrees F (175 degrees C) for 40 to 50 minutes. Spread icing on hot cake.    
For the icing: In a large bowl, cream butter or margarine, cream cheese, 1 teaspoon vanilla and confectioners sugar until light and fluffy. Fold in 1/2 cup nuts. Spread on hot cake.    

