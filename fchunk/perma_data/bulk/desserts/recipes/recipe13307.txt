Preheat oven to 350 degrees F (175 degrees C). Spread walnuts on a baking sheet.    
Toast walnuts until fragrant, about 6 minutes. Stir and continue toasting until browned, about 9 minutes more.    
Place chocolate in a microwave-safe bowl. Heat in the microwave in 20-second intervals, stirring after each interval, until mostly melted, about 2 minutes. Stir in 1/2 cup plus 2 tablespoons butter and maple-flavored extract.    
Grease an 8x14-inch baking pan. Pour in half of the chocolate mixture. Add marshmallows and half of the walnuts; press into the chocolate using a spatula.    
Mix peppermint extract into remaining chocolate mixture. Scrape into the baking pan and press in remaining walnuts. Press layers together using a spatula. Cool fudge to room temperature, 1 to 2 hours.    

