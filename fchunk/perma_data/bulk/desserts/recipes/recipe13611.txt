Preheat oven to 350 degrees F (175 degrees C). Grease and flour two 9-inch round baking pans.    
Sift flour, baking soda, baking powder, cinnamon, nutmeg, and salt together in a bowl.    
Beat butter and sugar together in a separate large bowl with an electric mixer until light and fluffy. Beat one egg at a time into the butter mixture; add molasses and vanilla extract with last egg. Add sweet potatoes, cranberries, and walnuts; mix until batter is thoroughly combined. Gradually beat flour mixture into batter until thoroughly combined. Pour batter into prepared baking pans.    
Bake in preheated oven until a toothpick inserted into the center comes out clean, about 1 hour 10 minutes. Cool in the pans for 10 minutes before turning out onto wire rack to cool completely.    

