Preheat oven to 350 degrees F (175 degrees C). Grease and flour three 9-inch baking pans.    
Beat 1/2 cup margarine and shortening in a bowl with an electric mixer until creamy. Beat in sugar. Beat in egg yolks until smooth.    
Combine flour and baking soda in a bowl. Add to the margarine mixture in batches, alternating with buttermilk, until batter is smooth. Mix in 1 teaspoon vanilla extract; add pecans and coconut.    
Beat egg whites with clean beaters in a glass, metal, or ceramic bowl until stiff peaks form. Fold into the batter. Pour into prepared pans.    
Bake in the preheated oven until a toothpick inserted into the center comes out clean, 25 to 30 minutes. Cool in the pans for 10 minutes; invert onto a cooling rack. Cool completely, about 30 minutes.    
Beat cream cheese and 1/4 cup margarine in a bowl until smooth; stir in confectioners' sugar. Beat in 1 teaspoon vanilla extract until frosting is combined.    
Spread frosting onto the cooled cake layers. Stack cakes; frost top and sides.    

