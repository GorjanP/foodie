Preheat the oven to 300 degrees F (150 degrees C).    
In a large bowl, with a pastry blender, blend together the margarine, brown sugar and vanilla. Mix in the flour until mixture resembles coarse crumbs. Stir in the chocolate chips and if desired, walnuts. Press the mixture into an ungreased 9x13 inch pan. It should press together like a cheesecake crust.    
Bake for 15 to 20 minutes in the preheated oven, until the edges begin to brown. Cut into bars while still a bit warm. Leave in the pan until completely cool, or the cookies will fall apart.    

