Preheat oven to 350 degrees F (175 degrees C). Grease a 9-inch baking dish.    
Mix flour, 1 cup sugar, mayonnaise, water, cocoa powder, and baking soda together in a bowl until smooth; pour into the prepared baking dish.    
Bake in the preheated oven until a toothpick inserted in the center of the cake comes out clean, 20 to 25 minutes.    
Stir 1 cup sugar, evaporated milk, and margarine together in a saucepan; bring to a boil and cook for 2 minutes. Remove saucepan from heat, add marshmallows, and stir to melt them completely into the mixture. Stir peanut butter and vanilla extract into marshmallow mixture until icing is smooth; pour over warm cake.    

