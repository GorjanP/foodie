Preheat oven to 350 degrees F (175 degrees C). Grease an 8x8-inch square pan.    
Place apricots and enough water to cover in a small saucepan over medium heat. Bring to a boil, and boil for 10 minutes. Drain and cool, then chop coarsely.    
Cream together the butter, 1/4 cup sugar, and 1 cup flour until crumbly. Sprinkle the mixture into the prepared pan, and pack down. Bake in the preheated oven until firm and slightly golden, 20 to 25 minutes.    
In a large bowl, mix together the eggs and brown sugar until well blended. Combine 1/3 cup flour, baking powder, and salt. Stir into the egg mixture. Mix in vanilla, walnuts and apricots. Spread mixture over baked layer.    
Bake for 25 to 30 minutes in the preheated oven, or until firm. Let cool on wire racks. Cut into bars and dip in confectioners' sugar.    

