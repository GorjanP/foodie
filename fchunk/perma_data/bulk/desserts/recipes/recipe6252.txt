Preheat oven to 350 degrees F (175 degrees C). Grease and flour a 10-inch tub pan.    
Beat cream cheese and confectioners' sugar in a bowl until smooth; set aside. Beat 1 cup white sugar and butter in a bowl until light and fluffy. Add eggs, one at a time, beating well after each addition. Stir in apples and vanilla extract.    
Combine flour, baking soda, and baking powder in another bowl; stir into apple mixture. Add sour cream, stirring until batter is just combined. Pour half the batter in prepared tube pan. Spread cream cheese mixture over batter in tube pan; cover with remaining batter.    
Mix walnuts, 2 1/2 tablespoons white sugar, and cinnamon in a small bowl; sprinkle over batter.    
Bake cake in the preheated oven until a toothpick inserted into the center comes out clean, about 50 minutes.    

