Preheat oven to 375 degrees F (190 degrees C). Line baking sheets with parchment paper, and set aside.    
Beat together the butter, peanut butter, 2 cups white sugar, and brown sugar in a large bowl, stirring until well mixed and creamy. Mix in the vanilla extract and eggs.    
In a separate bowl, whisk together the flour, baking soda, baking powder, and salt. Mix the flour mixture, one cup at a time, into the butter mixture, and stir until you have a smooth dough.    
Scoop up 1/4 cup of dough per cookie, and form it into a ball around a fun size candy bar. Set the balls onto a baking sheet at least 6 inches apart, and flatten each ball with a fork in a cross-hatch pattern, making sure the cookie dough is still fully covering the candy bar. Sprinkle each cookie with about 1/2 teaspoon white sugar.    
Bake the cookies in the preheated oven until the cookies are slightly browned around the edges, 12 to 14 minutes.    

